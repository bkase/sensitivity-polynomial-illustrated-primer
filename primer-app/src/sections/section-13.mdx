# Section 13: Complete Spectrum of the Huang Matrix

This section proves the full list of eigenvalues of the Huang matrix (in the `Fin`-indexed form) and shows that they are exactly half negative and half positive square roots.

We will walk through the proof structure and explain the key lemmas.

## Goal: the complete spectrum

For the Huang matrix on dimension `n+1` (size `2^(n+1)`), the theorem proved is:

- The sorted eigenvalues are:

```
[-sqrt(n+1), ..., -sqrt(n+1)]  (2^n times)
[+sqrt(n+1), ..., +sqrt(n+1)]  (2^n times)
```

In other words, the spectrum is exactly two values, `-sqrt(n+1)` and `+sqrt(n+1)`, each with multiplicity `2^n`.

In Lean, this appears as:

```lean
lemma huang_eigenvalues_eq_list_succ (n : â„•) :
  let evs := sorted_eigenvalues (huang_matrix_fin (n + 1)) (huang_matrix_fin_isSymm (n + 1))
  evs = List.replicate (2^n) (-Real.sqrt (n + 1)) ++
        List.replicate (2^n) (Real.sqrt (n + 1))
```

The rest of the section is a chain of lemmas that make this statement inevitable.

## Step 1: Every eigenvalue squares to `n`

The theorem `huang_eigenvalues_sq_eq_n` shows that for the `Fin`-indexed Huang matrix, *every eigenvalue* satisfies

```
mu^2 = n
```

Sketch of the proof:

1. Use the matrix identity `A^2 = n * I` (proved earlier as `huang_matrix_fin_sq`).
2. If `A v = mu v`, then apply `A` again to get `A (A v) = mu^2 v`.
3. Replace `A^2` with `n I` to get `n v` on the left, so `mu^2 v = n v`.
4. Since `v != 0`, conclude `mu^2 = n`.

This lemma is then applied to every element of `sorted_eigenvalues` to state that *every entry in the list squares to `n`*.

## Step 2: Sum of eigenvalues equals trace

`sum_sorted_eigenvalues_eq_trace` proves that for a symmetric real matrix, the sum of the sorted eigenvalues equals the trace:

```
(sorted_eigenvalues A hA).sum = A.trace
```

This uses the standard fact that the trace of a symmetric matrix is the sum of its (real) eigenvalues, and shows that sorting does not change the sum.

## Step 3: The Huang matrix has trace 0

`huang_matrix_fin_trace` uses reindexing to transfer the earlier result that the Huang matrix has trace 0:

```
Matrix.trace (huang_matrix_fin n) = 0
```

This gives the sum of all eigenvalues immediately:

```
(sum of eigenvalues) = 0
```

## Step 4: A list lemma for values that square to `c^2`

Several list lemmas are introduced to characterize a list that:

- has length `2m`,
- all elements satisfy `x^2 = c^2`,
- and the sum is 0,
- and the list is sorted.

The key lemma is:

```lean
sorted_list_of_sq_eq_and_sum_zero
```

It concludes:

```
L = List.replicate m (-c) ++ List.replicate m c
```

The logic is simple:

- If `x^2 = c^2`, then `x = c` or `x = -c`.
- If the sum is 0 and `c != 0`, then there must be the same number of `c` and `-c`.
- Sorting forces all `-c` values to appear first.

This lemma is the engine behind the final spectral statement.

## Step 5: Apply to `n+1`

With the ingredients in place, the final proof is short:

- The list `sorted_eigenvalues` has length `2^(n+1)`.
- Every entry squares to `n+1` (Step 1).
- The sum of the list is 0 (Steps 2 and 3).
- The list is sorted (by construction).

Therefore the list is exactly `2^n` copies of `-sqrt(n+1)` followed by `2^n` copies of `+sqrt(n+1)`.

This is the **complete spectrum** of the Huang matrix in the `Fin`-indexed model.

## Takeaway

The section combines three classic facts:

1. `A^2 = n I` forces eigenvalues to satisfy `mu^2 = n`.
2. Trace equals sum of eigenvalues.
3. Sorting plus a zero sum forces exact multiplicities.

As a result, the Huang matrix has only two eigenvalues, `-sqrt(n)` and `+sqrt(n)`, with equal multiplicity.
